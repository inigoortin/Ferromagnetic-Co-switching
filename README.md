# Ferromagnetic-Co-switching
GitHub repository for my Bachelor's thesis in Physics, focused on the study of magnetization avalanches in a Co nanofilm under a varying external magnetic field, using magnetoresistance and MOKE measurements.

The data used in this project is provided in the files Data A and Data B, which correspond to two separate experimental runs.
Data A contains three columns: current (V), MOKE signal, and magnetoresistance (mV).
Data B includes four columns: current (V), MOKE, Hall sensor, and magnetoresistance (mV).
Please note that the Hall sensor data in Data B is very noisy and was not used in the analysis.

The main output files (.csv and .npy) generated by the Python scripts, which may take some time to compute, are included in the repository so users can directly load them. The code cells used to generate these files are also provided for reference.

To switch between Data A and Data B across the scripts, certain lines controlling the data range, data folder and column names need to be commented or uncommented accordingly.

The file 'hysteresis_single' contains a preliminary analysis of a single dataset from Data A, aimed at establishing criteria for detecting avalanches in both MOKE and MR signals. Several plots are included to examine the local behaviour of avalanches and precursors, with the goal of applying these insights to the full dataset.

The file 'hysteresis_completo' generates the avalanche catalogues for the full dataset. It then analyses whether the avalanche sizes in both MR and MOKE follow a truncated power law, providing the fitted exponent and the corresponding range. Survival function and PDF plots are included. To switch between Data A and Data B, specific lines related to the range, column selection, and MR derivative threshold must be commented or uncommented accordingly. Finally, bivariate distribution plots and fits are produced, with similar toggling required to select the dataset.

The files 'model_slopes' and 'model_slopes_B' implement a method to predict avalanches in the magnetoresistance signal, using the slope between events as an indicator of anomalous behaviour and potential avalanche occurrence. A plot showing the model's performance is generated.
The function 'crear_pred_m' produces avalanche predictions based on the input data, while 'verificar_prediccion' evaluates the accuracy of these predictions and returns performance metrics. The 'plot_confusion_matrix' function visualises the confusion matrix, displaying false positives, false negatives, and true positives. For inclusion in the report, a plot combining the matrices from both datasets A and B is also generated.
Additionally, the 'aval_plot' function visualises the MR and MOKE signals for a single file, along with the labelled avalanches and the corresponding predictions. In 'model_slopes', the function 'aval_plot_conjunto' produces a side-by-side plot of two different files, which was used to create a figure for the report.

The file 'catalogue' generates a comprehensive catalogue for avalanche detection. Three distinct catalogues are created: one for avalanches detected in both MR and MOKE (CATP0 and CATP0B, respectively), one for avalanches detected only in MOKE (CATP1 and CATP1_B), and a combined catalogue that includes all events (CATP and CATP_B).
The catalogue files are already included in the repository. Each entry contains the file name, initial and final time, avalanche duration, size in both MOKE and MR, presence of a precursor, and precursor intensity. The thresholds used for avalanche detection are obtained in 'model_slopes' and 'model_slopes_B'.

The file 'counting_process' reads one of the avalanche catalogues (CATP or CATP_B) and generates accumulated plots over time for the catalogue characteristics. It includes the function 'plot_reescalado', which produces a rescaled plot to assess whether the waiting times between avalanches follow a Poisson distribution. The Bi test and its corresponding plot are also performed for this purpose. Additionally, the script produces a side-by-side comparison of the counting plots for CATP0 and CATP0_B, as used in the report.

The file 'waiting_times' analyses the inter-event voltages between avalanches whose size exceeds a given threshold. The function 'plot_dist_WT' plots the empirical probability distribution of these waiting times. The function 'plot_dist_escalado_WT' generates the rescaled distribution to assess whether the process resembles a Poisson process. These plots are produced for a range of threshold values across both datasets. Two versions of the rescaled plot are available, differing in the representation of empirical data (using dots or binned boxes). The script also computes and plots the cumulative distributions of the waiting times, as well as the evolution of the number of waiting times (N) as a function of the threshold. Finally, a set of plots related to the Bi test is included.

Lastly, the file 'setup_image' overlays numbered circles onto an image to label the different components of the experimental setup.

This project is licensed under the MIT License â€“ see the [LICENSE] file for details.
